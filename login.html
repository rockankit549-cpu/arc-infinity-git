<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | ARC Infinity Lab</title>
    <link rel="icon" type="image/png" href="/image/ARC - NoWB.png">
    <link rel="stylesheet" href="styles.css">
    <script defer src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="image/ARC - New Logo Rec.jpeg" alt="ARC Infinity Lab Logo" class="logo-image">
                <div class="logo-text">
                    <div class="logo-title">
                        <span class="logo-arc">ARC</span>
                        <span class="logo-infinity">Infinity <span class="logo-lab">Lab</span></span>
                    </div>
                    <span class="logo-slogan">A Hub for Material Testing</span>
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="index.html#home">Home</a></li>
                <li><a href="index.html#about">About</a></li>
                <li><a href="index.html#services">Services</a></li>
                <li><a href="index.html#gallery">Gallery</a></li>
                <li><a href="index.html#contact">Contact</a></li>
                <li><a href="careers.html">Careers</a></li>
                <li class="nav-record-link"><a href="/client-dashboard">Test Records</a></li>
                <li class="nav-update-link"><a href="/employee-portal">Update Records</a></li>
                <li class="mobile-login"><a href="login.html" class="mobile-login-button">Login</a></li>
                <li class="nav-user-pill" id="nav-user-pill" aria-live="polite">
                    <span class="nav-user-avatar" id="nav-user-avatar">A</span>
                    <span id="nav-user-name">Account</span>
                </li>
            </ul>
            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <main class="login-page">
        <div class="login-container">
            <div class="login-intro">
                <div class="login-intro-header">
                    <h1>Secure Portal Access</h1>
                </div>
                <div class="login-intro-content">
                    <div class="intro-copy">
                        <p>ARC Infinity Lab now relies on Netlify Identity for every client and employee login. Each account gets an email + password, Identity issues a JWT token, and our Netlify Functions verify that token before Neon/Postgres ever returns sensitive records.</p>
                        <p>Follow the steps below to authenticate. Once you're authorized, we route you to the proper dashboard and only expose the data tied to your user profile.</p>
                    </div>
                    <ul class="intro-bullets">
                        <li>Clients: use the buttons below to log in or request a new invite.</li>
                        <li>Employees: sign in with your corporate email, then jump into the portal.</li>
                        <li>Admins: keep registration invite-only or approve requests from Identity.</li>
                    </ul>
                </div>
            </div>

            <div class="login-access">
                <section class="client-portal-card login-panel">
                    <div class="client-portal-actions">
                        <h2>Client Portal</h2>
                        <p>Sign in with the email address we registered for you. New customers can request access with the Sign Up button, which triggers Netlify Identity's onboarding flow.</p>
                        <div class="identity-buttons">
                            <button type="button" class="cta-button" id="identity-login-btn">Login</button>
                            <button type="button" class="ghost-button" id="identity-signup-btn">Sign Up / Request Access</button>
                            <button type="button" class="ghost-button" id="identity-logout-btn" style="display: none;">Logout</button>
                        </div>
                        <div class="identity-info" id="identity-logged-info" aria-live="polite">
                            <p id="identity-user-email">Checking your session...</p>
                            <p>Once authenticated we unlock your ARC Infinity client dashboard and fetch your Neondb records through secure Netlify Functions.</p>
                            <div class="identity-buttons">
                                <button type="button" class="cta-button" id="identity-dashboard-btn">Open Client Dashboard</button>
                            </div>
                        </div>
                        <p class="signup-note">Need help with access? Email <a href="mailto:ankit@arcinfinitylab.com">ankit@arcinfinitylab.com</a> and we'll send an invite through Netlify Identity.</p>
                    </div>
                </section>

                <section class="login-card login-panel">
                    <h2>Employee Access</h2>
                    <span>Employees also go through Netlify Identity to receive a token before visiting the internal portal.</span>
                    <ul>
                        <li>Use your corporate email so we can map you to internal Neon roles.</li>
                        <li>After logging in, open the Employee Portal to see assignments, workflows, and lab updates.</li>
                        <li>If you lose access, reach out to HR so they can re-invite you from the Identity dashboard.</li>
                    </ul>
                    <div class="identity-buttons">
                        <button type="button" class="ghost-button" id="identity-employee-login-btn">Employee Login</button>
                        <a class="cta-button" href="/employee-portal">Go to Employee Portal</a>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>ARC Infinity Lab</h3>
                <p>NABL Accredited Testing Laboratory for Building Materials.</p>
            </div>
            <div class="footer-section">
                <h3>Contact</h3>
                <ul>
                    <li>Email: enquiry@arcinfinitylab.com</li>
                    <li>Phone: <a href="tel:+919699299955">+91 96992 99955</a></li>
                    <li>Location: Mumbai, India</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; <span id="year"></span> ARC Infinity Lab Pvt. Ltd. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
